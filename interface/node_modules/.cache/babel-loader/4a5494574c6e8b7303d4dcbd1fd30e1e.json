{"ast":null,"code":"var _jsxFileName = \"/Users/yulinfeng/Development/react-playground/src/App.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: '',\n      items: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"App-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(DragableTextList, {\n      items: this.state.items,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"input_dragable_text\",\n      onChange: this.handleChange,\n      value: this.state.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 15\n      }\n    }, \"input\")))));\n  }\n\n  handleChange(e) {\n    this.setState({\n      text: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    if (this.state.text.length === 0) {\n      return;\n    }\n\n    const newItem = {\n      text: this.state.text\n    };\n    this.setState(state => ({\n      items: state.items.concat(newItem),\n      text: ''\n    }));\n  }\n\n}\n\nclass DragableTextList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.items = props.items;\n  }\n\n  render() {\n    const elements = [];\n    const text_array = [{\n      text: \"a\"\n    }]; //this.props.items\n    //console.log()\n\n    for (const item of text_array) {\n      elements.push( /*#__PURE__*/React.createElement(Draggable, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }\n      }, \"asf\"));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, elements);\n  }\n\n}\n\nclass Draggable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      relX: 0,\n      relY: 0,\n      x: props.x,\n      y: props.y\n    };\n    this.gridX = props.gridX || 1;\n    this.gridY = props.gridY || 1;\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchMove = this.onTouchMove.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n  }\n\n  onStart(e) {\n    const ref = ReactDOM.findDOMNode(this.handle);\n    const body = document.body;\n    const box = ref.getBoundingClientRect();\n    this.setState({\n      relX: e.pageX - (box.left + body.scrollLeft - body.clientLeft),\n      relY: e.pageY - (box.top + body.scrollTop - body.clientTop)\n    });\n  }\n\n  onMove(e) {\n    const x = Math.trunc((e.pageX - this.state.relX) / this.gridX) * this.gridX;\n    const y = Math.trunc((e.pageY - this.state.relY) / this.gridY) * this.gridY;\n\n    if (x !== this.state.x || y !== this.state.y) {\n      this.setState({\n        x,\n        y\n      });\n      this.props.onMove && this.props.onMove(this.state.x, this.state.y);\n    }\n  }\n\n  onMouseDown(e) {\n    if (e.button !== 0) return;\n    this.onStart(e);\n    document.addEventListener('mousemove', this.onMouseMove);\n    document.addEventListener('mouseup', this.onMouseUp);\n    e.preventDefault();\n  }\n\n  onMouseUp(e) {\n    document.removeEventListener('mousemove', this.onMouseMove);\n    document.removeEventListener('mouseup', this.onMouseUp);\n    this.props.onStop && this.props.onStop(this.state.x, this.state.y);\n    e.preventDefault();\n  }\n\n  onMouseMove(e) {\n    this.onMove(e);\n    e.preventDefault();\n  }\n\n  onTouchStart(e) {\n    this.onStart(e.touches[0]);\n    document.addEventListener('touchmove', this.onTouchMove, {\n      passive: false\n    });\n    document.addEventListener('touchend', this.onTouchEnd, {\n      passive: false\n    });\n    e.preventDefault();\n  }\n\n  onTouchMove(e) {\n    this.onMove(e.touches[0]);\n    e.preventDefault();\n  }\n\n  onTouchEnd(e) {\n    document.removeEventListener('touchmove', this.onTouchMove);\n    document.removeEventListener('touchend', this.onTouchEnd);\n    this.props.onStop && this.props.onStop(this.state.x, this.state.y);\n    e.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onMouseDown: this.onMouseDown,\n      onTouchStart: this.onTouchStart,\n      style: {\n        position: 'absolute',\n        left: this.state.x,\n        top: this.state.y,\n        touchAction: 'none'\n      },\n      ref: div => {\n        this.handle = div;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 14\n      }\n    }, this.props.children);\n  }\n\n}\n/*\nfunction DragableDiv(content) {\n  const div_id =Date.now()\n  return (\n    <div class=\"dragable_div\" id={div_id}>\n      <div class=\"mydivheader\" id={div_id}>{content.value}</div>\n    </div>\n  )\n}\n*/\n\n\nDraggable.propTypes = {\n  onMove: PropTypes.func,\n  onStop: PropTypes.func,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  gridX: PropTypes.number,\n  gridY: PropTypes.number\n};\nexport default App;","map":{"version":3,"sources":["/Users/yulinfeng/Development/react-playground/src/App.js"],"names":["React","ReactDOM","PropTypes","App","Component","constructor","props","state","text","items","handleChange","bind","handleSubmit","render","e","setState","target","value","preventDefault","length","newItem","concat","DragableTextList","elements","text_array","item","push","Draggable","relX","relY","x","y","gridX","gridY","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onStart","ref","findDOMNode","handle","body","document","box","getBoundingClientRect","pageX","left","scrollLeft","clientLeft","pageY","top","scrollTop","clientTop","onMove","Math","trunc","button","addEventListener","removeEventListener","onStop","touches","passive","position","touchAction","div","children","propTypes","func","number","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { text: '', items: [] };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <div>\n            <DragableTextList items={this.state.items}/>\n            <form onSubmit={this.handleSubmit}>\n              <input \n              id=\"input_dragable_text\"\n              onChange={this.handleChange}\n              value={this.state.text}\n              />\n              <button>\n                input\n              </button>\n            </form>\n          </div>\n        </header>\n      </div>\n    );\n  }\n\n  handleChange(e) {\n    this.setState({ text: e.target.value });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    if (this.state.text.length === 0) {\n      return;\n    }\n    const newItem = {\n      text: this.state.text\n    };\n    this.setState(state => ({\n      items: state.items.concat(newItem),\n      text: ''\n    }));\n  }\n}\n\n\nclass DragableTextList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.items = props.items\n  }\n\n  render() {\n    const elements = [];\n    const text_array = [{text: \"a\"}] //this.props.items\n    //console.log()\n    for(const item of text_array) {\n      elements.push(<Draggable>asf</Draggable>)\n    }\n    return (\n      <div>\n        {elements}\n      </div>\n    )\n  }\n}\n\nclass Draggable extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          relX: 0,\n          relY: 0,\n          x: props.x,\n          y: props.y\n      };\n      this.gridX = props.gridX || 1;\n      this.gridY = props.gridY || 1;\n      this.onMouseDown = this.onMouseDown.bind(this);\n      this.onMouseMove = this.onMouseMove.bind(this);\n      this.onMouseUp = this.onMouseUp.bind(this);\n      this.onTouchStart = this.onTouchStart.bind(this);\n      this.onTouchMove = this.onTouchMove.bind(this);\n      this.onTouchEnd = this.onTouchEnd.bind(this);\n  }\n\n  static propTypes = {\n      onMove: PropTypes.func,\n      onStop: PropTypes.func,\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired,\n      gridX: PropTypes.number,\n      gridY: PropTypes.number\n  }; \n\n  onStart(e) {\n      const ref = ReactDOM.findDOMNode(this.handle);\n      const body = document.body;\n      const box = ref.getBoundingClientRect();\n      this.setState({\n          relX: e.pageX - (box.left + body.scrollLeft - body.clientLeft),\n          relY: e.pageY - (box.top + body.scrollTop - body.clientTop)\n      });\n  }\n\n  onMove(e) {\n      const x = Math.trunc((e.pageX - this.state.relX) / this.gridX) * this.gridX;\n      const y = Math.trunc((e.pageY - this.state.relY) / this.gridY) * this.gridY;\n      if (x !== this.state.x || y !== this.state.y) {\n          this.setState({\n              x,\n              y\n          });\n          this.props.onMove && this.props.onMove(this.state.x, this.state.y);\n      }        \n  }\n\n  onMouseDown(e) {\n      if (e.button !== 0) return;\n      this.onStart(e);\n      document.addEventListener('mousemove', this.onMouseMove);\n      document.addEventListener('mouseup', this.onMouseUp);\n      e.preventDefault();\n  }\n\n  onMouseUp(e) {\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('mouseup', this.onMouseUp);\n      this.props.onStop && this.props.onStop(this.state.x, this.state.y);\n      e.preventDefault();\n  }\n\n  onMouseMove(e) {\n      this.onMove(e);\n      e.preventDefault();\n  }\n\n  onTouchStart(e) {\n      this.onStart(e.touches[0]);\n      document.addEventListener('touchmove', this.onTouchMove, {passive: false});\n      document.addEventListener('touchend', this.onTouchEnd, {passive: false});\n      e.preventDefault();\n  }\n\n  onTouchMove(e) {\n      this.onMove(e.touches[0]);\n      e.preventDefault();\n  }\n\n  onTouchEnd(e) {\n      document.removeEventListener('touchmove', this.onTouchMove);\n      document.removeEventListener('touchend', this.onTouchEnd);\n      this.props.onStop && this.props.onStop(this.state.x, this.state.y);\n      e.preventDefault();\n  }\n\n  render() {\n      return <div\n          onMouseDown={this.onMouseDown}\n          onTouchStart={this.onTouchStart}\n          style={{\n              position: 'absolute',\n              left: this.state.x,\n              top: this.state.y,\n              touchAction: 'none'\n          }}\n          ref={(div) => { this.handle = div; }}\n      >\n          {this.props.children}\n      </div>;\n  }\n}\n\n/*\nfunction DragableDiv(content) {\n  const div_id =Date.now()\n  return (\n    <div class=\"dragable_div\" id={div_id}>\n      <div class=\"mydivheader\" id={div_id}>{content.value}</div>\n    </div>\n  )\n}\n*/\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}